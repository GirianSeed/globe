[SCE CONFIDENTIAL DOCUMENT]
PlayStation 2 Programmer Tool Runtime Library Release 3.0
      Copyright (C) 2002 Sony Computer Entertainment Inc.
                                      All Rights Reserved


Sample Program Showing How to Use sdhd to Obtain Sound Data Information (HD) and Use it to Generate Sound With SPU2

<Description>
	This sample program uses sdhd to get attribute information that is included in sound data (HD), then uses libsd to generate sound based on that information.
	
	The functions GetHDdata_case1(), GetHDdata_case2(), and GetHDdata_case3() implement example methods for getting attribute information using sdhd.
	Each individual function can also run independently.
	
	[Example 1]:  GetHDdata_case1()
	
	This example uses the sdhd functions sceSdHdGetProgramParam(), sceSdHdGetSplitBlock(), sceSdHdGetSampleSetParam(), sceSdHdGetSampleParam(), and sceSdHdGetVAGInfoParam() to get attribute information that is included in sound data (HD), then uses this information to generate sound using libsd.
		   	  
	It traverses the sound data (HD) hierarchical structure to acquire program information, intra-program split block information, sample set information, sample information, and VAGInfo information in program number order.
	  
	This example mainly uses sample information and VAGInfo information as attributes when generating sound for waveform data.
	  
	Waveform data attributes indicated by the sound data (HD) are searched in program number order, and after the attribute information is acquired, the sample volume is used to produce sound for the velocity, and the bass notes are used to produce sound in the musical interval.

	The program number, split block number, sample set number, sample number, and VAGInfo number used to acquire attribute information, and the offset address in the BD, are displayed when the sound is produced.
 
	[Example 2 ]:  GetHDdata_case2()

	This example uses the sdhd functions sceSdHdGetProgramParam(), sceSdHdGetSampleParamByNoteVelocity(), and sceSdHdGetVAGInfoParamByNoteVelocity() to get attribute information, then uses this information to generate sound using libsd.

	It uses the shortest process to get the attribute information from the program number, note number, and velocity.

	Although this example obtains program information, sample information, and VAGInfo information, it mainly uses the sample information and VAGInfo information as attributes for actually generating sound.
	
	Sound is generated by getting attribute information for the relevant waveform data from the note number (0 to 127) and velocity (5, 65, or 125) for each program of sound data (HD). The program number, note number, and velocity used to get the attribute information, and the number of sets of the corresponding sample information and VAGInfo information are displayed when sound is generated.
	 
	[Example 3]:  GetHDdata_case3()	
	
	This example uses the sdhd functions sceSdHdGetProgramParam(), sceSdHdGetSplitBlockByNote(), sceSdHdGetSampleSetParamByNote(), sceSdHdGetSampleParamByVelocity(), and sceSdHdGetVAGInfoParamByVelocity() to get attribute information, then uses this information to generate sound using libsd.

	It gets program information, intra-program split block information, sample set information, sample information, and VAGInfo information from the program number, note number, sample set number, and velocity, without traversing the sound data (HD) hierarchical structure.

	Although this example obtains program information, sample information, and VAGInfo information, it mainly uses the sample information and VAGInfo information as attributes to actually produce sound and takes crossfade into consideration when calculating the volume.

	Sound is generated by getting attribute information for the relevant waveform data from the note number (0 to 127) and velocity (5, 65, or 125) for each program of sound data (HD). The program number, note number, and velocity used to get the attribute information, and the number of sets of the corresponding intra-program split block information and VAGInfo information are displayed when sound is generated.

<Files>

    	main.c		:  Main program
	
	ivory.hd	:  HD data ( /usr/local/sce/data/sound/wave )
	ivory.bd	:  BD data ( /usr/local/sce/data/sound/wave ) 

<Execution Method>

	% make		:  Compile
	% make run	:  Execute sample
	
	Before executing the sample, start up dsicons and dsidb on a separate terminal to confirm display data.
	

<Controller Operation>
	None

<Comments>
	None

